% ============
% = PACKAGES =
% ============

\usepackage[utf8]{vietnam}
\usepackage[top=1in,bottom=1in,left=1in,right=1in,paper=a4paper]{geometry}
\usepackage{graphicx,float}
\usepackage{hyperref}
\usepackage{tocloft}
\usepackage[immediate]{silence}
\WarningFilter[temp]{latex}{Command} % silence the warning
\usepackage{sectsty}
\DeactivateWarningFilters[temp] % So nothing unrelated gets silenced
\usepackage[most]{tcolorbox}
\usepackage{textcomp}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools,gensymb}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{titling}
\usepackage{lipsum}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage[utf8]{inputenc}
\usepackage[titletoc,title]{appendix}
\usepackage{xcolor}
\usepackage[twoside]{fancyhdr}
\usepackage{multicol}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\usepackage{fontawesome5}
\usepackage{titlesec}

% =====================
% = TEMPLATE SETTINGS =
% =====================

\usetikzlibrary{arrows.meta, decorations.pathreplacing,calc}

\makeatletter % disable the runtime redefinitions
\let\SS@makeulinesect\relax
\let\SS@makeulinepartchap\relax
\makeatother

\pagestyle{fancy}
% \allsectionsfont{\bfseries\sffamily}

\graphicspath{ {./images/} }

\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}


\renewcommand{\baselinestretch}{1.5}
\setlength{\headheight}{14.95145pt} %fix headheight
\setlength{\parindent}{0pt}
\setcounter{tocdepth}{0}

% ================
% = MATH SYMBOLS =
% ================

\newcommand{\qedblack}{$\hfill\blacksquare$}

\newcommand{\divides}{\mid}
\newcommand{\notdivides}{\nmid}

\DeclareMathOperator{\ord}{ord}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
\DeclareMathOperator{\lcm}{lcm}

% ========================
% = THEOREM ENVIRONMENTS =
% ========================

\theoremstyle{definition}
\newtheorem{definition}{Định nghĩa}[chapter]
\newtheorem{theorem}{Định lí}[chapter]
\newtheorem{property}{Tính chất}[chapter]
\newtheorem{corollary}{Hệ quả}[chapter]
\newtheorem*{remark}{Nhận xét}
\newtheorem*{notice}{Chú ý}
\newtheorem{exercise}{Bài tập}

\newtcolorbox[auto counter,number within=chapter,number format=\arabic]{exproblem}[1]{
    colback=white,
    colframe=black,
    coltitle=black,
    colbacktitle=white,
    boxrule=1pt,
    arc=3pt,
    outer arc=3pt,
    boxsep=1mm,
    toptitle=1mm,
    bottomtitle=1.75mm,
    enhanced,
    title={\textbf{Ví dụ~\thetcbcounter}},
    fonttitle=\bfseries,
}

\newtcolorbox[auto counter,number within=chapter,number format=\arabic]{problem}[1]{
    colback=white,
    colframe=black,
    coltitle=black,
    colbacktitle=white,
    boxrule=1pt,
    arc=3pt,
    outer arc=3pt,
    boxsep=1mm,
    toptitle=1mm,
    bottomtitle=1.75mm,
    enhanced,
    title={\textbf{Bài toán~\thetcbcounter}},
    fonttitle=\bfseries,
}

\newtcolorbox[auto counter,number within=chapter,number format=\arabic]{problemme}[1]{
    colback=white,
    colframe=black,
    coltitle=black,
    colbacktitle=white,
    boxrule=1pt,
    arc=3pt,
    outer arc=3pt,
    boxsep=1mm,
    toptitle=1mm,
    bottomtitle=1.75mm,
    enhanced,
    title={\textbf{Bài tập~\thetcbcounter}},
    fonttitle=\bfseries,
}

\newtcolorbox[auto counter,number format=\arabic]{lemma}[1][]{
    colback=white,enhanced,
    title={\textbf{Bổ đề}},
    boxrule=0pt,
    frame hidden,
    breakable,
    arc=0mm,
    sharp corners,
    detach title,
    before upper = \tcbtitle\par\smallskip,
    colframe=black,coltitle=black,
    borderline west = {1mm}{0pt}{black},
    segmentation style={solid, black}
}

\newtcolorbox[auto counter,number format=\arabic]{claim}[1][]{
    colback=white,enhanced,
    title={\textbf{Khẳng định --- \ }},
    boxrule=0pt,
    frame hidden,
    breakable,
    arc=0mm,
    sharp corners,
    detach title,
    before upper = \tcbtitle,
    colframe=black,coltitle=black,
    borderline west = {1mm}{0pt}{black},
    segmentation style={solid, black}
}

\newenvironment{solution}[1][Lời giải]{%
  \proof[\normalfont \faPenNib \hspace{0.2cm} \ttfamily \scshape \large #1]%
}{\(\hfill \blacksquare\){\parfillskip0pt\par}}

% ===================
% = HEADER & FOOTER =
% ===================

\fancyhead[RO]{\footnotesize \thepage}
\fancyhead[RE]{\footnotesize \textsc{Minimalist Book Template}}
\fancyhead[LE]{\footnotesize \thepage}
\fancyhead[LO]{\footnotesize \scshape \leftmark}
\fancyfoot{}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}